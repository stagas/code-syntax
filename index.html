<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='50' cy='47.2' r='34'%0Afill='transparent' stroke='%23fff' stroke-width='7.5' /%3E%3C/svg%3E"
      type="image/svg+xml"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>&lt;code-syntax /&gt;</title>
    
    <script type="module" crossorigin src="/assets/index.01e9fbb5.js"></script>
    <link rel="modulepreload" href="/assets/vendor.999869ae.js">
    <link rel="stylesheet" href="/assets/index.85abd256.css">
  </head>
  <body>
    <nav><!-- nav --></nav>
    <main><a href="https://github.com/stagas/code-syntax" title="code-syntax on GitHub" target="_blank">
<h1><icon-svg set="iconoir" icon="github"></icon-svg> &lt;code-syntax /&gt;</h1>
</a>
<h2>installation:</h2>
<pre><code class="language-sh">npm i code-syntax
</code></pre>
<h2>create your own syntax!</h2>
<div class="side-by-side">
<pre class="edit"><icon-svg set="material" kind="round" icon="code"></icon-svg><code-edit id="myLang" autofocus autoresize language="js" theme="monokai">const punctuation = /[.()]/
languages.mylang = {
  punctuation,
  operator: /[*/><+-]/,
  number: /\.?[\d]+/,
  keyword: /fun|pi/,
  function: [
    /\w+\(/,
    {
      punctuation,
      function: /\w+/,
    }
  ]
}</code-edit></pre>
<pre class="edit"><icon-svg set="material" kind="round" icon="code"></icon-svg><code-edit id="myTheme" autoresize language="css" theme="monokai">[theme="mytheme"] {
  --color: #f59;
  --function: #fff;
  --function-style: italic;
  --background: #326;
  --punctuation: #0ff;
  --operator: #0f5;
  --number: #ff0;
  --keyword: #f92;
  --keyword-style: italic;
  --number-weight: bold;
  --caret: var(--number);
  --selection: #367;
}</code-edit></pre>
</div>
<pre class="edit" theme="mytheme"><icon-svg set="material" kind="round" icon="code"></icon-svg><code-edit id="mySample" autoresize language="mylang" theme="mytheme">fun sine ->
  sin(t * 440 * pi * 2.0);</code-edit></pre>
<h2>how to use:</h2>
<pre><code class="language-html">&lt;style&gt;
  [theme='mytheme'] {
    --operator: #ff0;
    --number: #f0f;
  }
&lt;/style&gt;

&lt;script type=&quot;module&quot;&gt;
  // register the custom element
  import { CodeSyntaxElement, languages } from 'code-syntax'
  customElements.define('code-syntax', CodeSyntaxElement)

  // you can load a css theme if your bundler supports this (vite does):
  import 'plenty-themes/laser.css'

  // optional, this maps the variables from the plenty-themes
  // ansi palettes to the specific elements in our languages
  import 'code-syntax/themes/default.css'

  // load the syntaxes you need
  languages.js = import('code-syntax/languages/js') // no await, promise is fine
  languages.css = import('code-syntax/languages/css')
  languages.html = import('code-syntax/languages/html')

  // defining a syntax is as simple as creating a bunch of regexps
  languages.mylang = {
    operator: /[*/+-]/,
    number: /\d+/,

    // this is creating a parse group with a different set of regexps.
    // it can be nested infinitely to create complex rules.
    attribute: [
      // everything this regexp matches will be parsed with the regexps below
      /(?&lt;=\[)[^\]]*?(?=\])/,
      {
        attribute: /\w+?/,
      },
    ],
  }
&lt;/script&gt;

&lt;!-- the &lt;pre&gt; tag is optional but makes editors retain formatting --&gt;
&lt;pre&gt;&lt;code-syntax language=&quot;js&quot; theme=&quot;monokai&quot;&gt;
class Vector {
  x: number
  y: number
  constructor(x: number, y: number) {
    this.x = x
    this.y = y
  }
  add(v: Vector): Vector {
    return new Vector(this.x + v.x, this.y + v.y)
  }
}
&lt;/code-syntax&gt;&lt;/pre&gt;
</code></pre>
<h3>result:</h3>
<pre><code-syntax language="js" theme="monokai">class Vector {
  x: number
  y: number
  constructor(x: number, y: number) {
    this.x = x
    this.y = y
  }
  add(v: Vector): Vector {
    return new Vector(this.x + v.x, this.y + v.y)
  }
}
</code-syntax></pre>
<h2>API</h2>
<!-- Generated by documentation.js. Update this documentation by updating the source code. -->
<h4>Table of Contents</h4>
<ul>
<li><a href="#codesyntaxelement">CodeSyntaxElement</a></li>
<li><a href="#compile">compile</a>
<ul>
<li><a href="#parameters">Parameters</a></li>
</ul>
</li>
<li><a href="#syntax">syntax</a>
<ul>
<li><a href="#parameters-1">Parameters</a></li>
</ul>
</li>
</ul>
<h3>CodeSyntaxElement</h3>
<p><a href="https://github.com/stagas/code-syntax/blob/36ae0a66e5a72fcde0b9ec16cce40815065571e5/src/element.ts#L44-L116" title="Source code on GitHub">src/element.ts:44-116</a></p>
<p><strong>Extends HTMLElement</strong></p>
<p>CodeSyntax custom element</p>
<pre><code class="language-js">import { CodeSyntaxElement } from 'code-syntax'
customElements.define('code-syntax', CodeSyntaxElement)
</code></pre>
<h3>compile</h3>
<p><a href="https://github.com/stagas/code-syntax/blob/36ae0a66e5a72fcde0b9ec16cce40815065571e5/src/syntax.ts#L22-L45" title="Source code on GitHub">src/syntax.ts:22-45</a></p>
<p>Compiles a syntax definition.</p>
<pre><code class="language-js">const r = await compile({
  foo: /[a-z]/,
  bar: /[0-9]/,
})
</code></pre>
<h4>Parameters</h4>
<ul>
<li><code>def</code> <strong>(SyntaxDefinition | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;{default: SyntaxDefinition}&gt;)</strong> The syntax definition to compile. Can be a promise returned by <code>import()</code>.</li>
<li><code>keys</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>&lt;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;</strong>  (optional, default <code>new Set()</code>)</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;RegExpMapped&gt;</strong> </p>
<h3>syntax</h3>
<p><a href="https://github.com/stagas/code-syntax/blob/36ae0a66e5a72fcde0b9ec16cce40815065571e5/src/syntax.ts#L66-L77" title="Source code on GitHub">src/syntax.ts:66-77</a></p>
<p>Syntax highlights a string as html with the given syntax.</p>
<pre><code class="language-js">const regexp = await compile({
  foo: /[a-z]+/,
  bar: [
    /[0-9]+/,
    {
      bar: /[0-5]+/,
    },
  ],
})
const html = syntax(regexp, 'hello 123 789 world')
</code></pre>
<h4>Parameters</h4>
<ul>
<li><code>regexp</code> <strong>RegExpMapped</strong> The syntax definition returned by <code>compile()</code></li>
<li><code>s</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> The string to highlight.</li>
</ul>
<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </p>
<h2>license:</h2>
<h3>MIT</h3>
</main>
    
  </body>
</html>
